(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(4458)}])},4458:function(n,e,r){"use strict";r.r(e),r.d(e,{__N_SSG:function(){return Z},default:function(){return R}});var t=r(7297),a=r(5893),o=r(917),i=r(7435),u=r(6829);function s(){var n=(0,t.Z)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  height: 100%;\n  width: 100%;\n  z-index: 1000;\n  pointer-events: none;\n  opacity: 50%;\n"]);return s=function(){return n},n}function c(){var n=(0,t.Z)(["\n  background-color: #1d31a520;\n  mix-blend-mode: screen;\n"]);return c=function(){return n},n}function l(){var n=(0,t.Z)(["\n  background: linear-gradient(to bottom, transparent 60%, #61c5ff22);\n  mix-blend-mode: screen;\n"]);return l=function(){return n},n}function d(){var n=(0,t.Z)(["\n  background: linear-gradient(to bottom, transparent 90%, #ffe0aa10);\n  mix-blend-mode: screen;\n"]);return d=function(){return n},n}var f=u.Z.div(s()),m=(0,u.Z)(f)(c()),h=(0,u.Z)(f)(l()),v=(0,u.Z)(f)(d()),p=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{}),(0,a.jsx)(h,{}),(0,a.jsx)(v,{})]})},x=r(797),b=r(9865),g=r(7433),M=r(4061),j=r(8302),w=r(7294),_=r(9477),y=r(8197),P=r(3955),z=r(4360);(0,j.e)({Line_:_.Line});var C=function(){var n=(0,w.useRef)(null),e=(0,w.useRef)(null),r=(0,w.useRef)(null),t=(0,w.useState)(null),o=t[0],i=t[1],u=(0,w.useCallback)(function(n){var e=(300*Math.random()+150)*(Math.random()-.5)*2,r=(300*Math.random()+150)*(Math.random()-.5)*2,t=(300*Math.random()+150)*(Math.random()-.5)*2;return{position:[e,r,t],start:new _.Vector3(-(300*Math.random())/10+e,-(300*Math.random())/10+r,-(300*Math.random())/10+t),end:new _.Vector3(300*Math.random()/10+e,300*Math.random()/10+r,300*Math.random()/10+t),offset:10*Math.random()+(n||0)}},[]);(0,w.useEffect)(function(){i(u())},[u]);var s=(0,w.useMemo)(function(){var n;return null!==(n=null==o?void 0:o.start)&&void 0!==n?n:new _.Vector3(0,0,0)},[null==o?void 0:o.start]),c=(0,w.useMemo)(function(){var n;return null!==(n=null==o?void 0:o.end)&&void 0!==n?n:new _.Vector3(0,0,0)},[null==o?void 0:o.end]),l=(0,w.useCallback)(function(n){n.setFromPoints([s,c])},[s,c]);return(0,w.useEffect)(function(){var n;null===(n=r.current)||void 0===n||n.setFromPoints([s,c])},[s,c]),(0,j.z)(function(t){var a,l=t.clock;if(null===(a=n.current)||void 0===a||a.computeLineDistances(),o){var d=l.getElapsedTime()-o.offset;d>0&&e.current&&(d<.5&&(e.current.dashSize=70*d),d>=.5&&d<1&&r.current&&r.current.setFromPoints([s.lerpVectors(o.start,c,(d-.5)*2),c,]),d>1&&(e.current.dashSize=0),d>10&&i(u(l.getElapsedTime())))}}),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("line_",{ref:n,children:[(0,a.jsx)("bufferGeometry",{ref:r,attach:"geometry",onUpdate:l,children:(0,a.jsx)("bufferAttribute",{attach:"attributes-position",count:1,array:null==o?void 0:o.position,itemSize:3})}),(0,a.jsx)("lineDashedMaterial",{ref:e,attach:"material",color:"#ffffff",linewidth:20,linecap:"round",linejoin:"round",dashSize:0,gapSize:1e5})]})})},S=function(n){var e=4600*(1/(.92*n+1.7)+1/(.92*n+.62)),r=0,t=0;e>=1667&&e<=4e3?r=-266123900.00000003/Math.pow(e,3)+-234358/Math.pow(e,2)+877.6956/e+.17991:e>4e3&&e<=25e3&&(r=-3025846900/Math.pow(e,3)+2107037.9/Math.pow(e,2)+222.63469999999998/e+.24039),e>=1667&&e<=2222?t=-1.1063814*Math.pow(r,3)-1.3481102*Math.pow(r,2)+2.18555832*r-.20219683:e>2222&&e<=4e3?t=-.9549476*Math.pow(r,3)-1.37418593*Math.pow(r,2)+2.09137015*r-.16748867:e>4e3&&e<=25e3&&(t=3.081758*Math.pow(r,3)-5.8733867*Math.pow(r,2)+3.75112997*r-.37001483);var a=0==t?0:1,o=0==t?0:r*a/t,i=0==t?0:(1-r-t)*a/t;return{r:.41847*o-.15866*a-.082835*i,g:-.091169*o+.25243*a+.015708*i,b:9209e-7*o-.0025498*a+.1786*i}},k=function(n){var e=(0,w.useRef)(null),r=n.database,t=r.length,o=(0,w.useMemo)(function(){for(var n=new Float32Array(3*t),e=0;e<t;e++)n[3*e]=+r[e].x,n[3*e+1]=+r[e].y,n[3*e+2]=+r[e].z;return n},[t,r]),i=(0,w.useMemo)(function(){for(var n=new Float32Array(t),e=0;e<t;e++)n[e]=1.2*Math.min(7,-10/9*+r[e].mag+7);return n},[t,r]),u=(0,w.useMemo)(function(){for(var n=new Float32Array(3*t),e=0;e<t;e++){var a=S(+r[e].ci),o=a.r,i=a.g,u=a.b;n[3*e]=5*o,n[3*e+1]=5*i,n[3*e+2]=5*u}return n},[t,r]);return(0,w.useEffect)(function(){e.current&&(e.current.geometry.setAttribute("position",new _.BufferAttribute(o,3)),e.current.geometry.setAttribute("color",new _.BufferAttribute(u,3)),e.current.geometry.setAttribute("size",new _.BufferAttribute(i,1)))},[e,o,u,i]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("points",{ref:e,children:[(0,a.jsx)("bufferGeometry",{}),(0,a.jsx)("shaderMaterial",{attach:"material",transparent:!0,uniforms:{color:{value:new _.Color(16777215)}},vertexShader:"\n  attribute float size;\n  attribute vec3 color;\n\n  varying vec3 vColor;\n\n	void main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n	  gl_PointSize = size;\n	  gl_Position = projectionMatrix * mvPosition;\n  }\n",fragmentShader:"\n  uniform vec3 color;\n\n  varying vec3 vColor;\n\n  void main() {\n    if ( length( gl_PointCoord - vec2( 0.5, 0.5 ) ) > 0.475 ) discard;\n    gl_FragColor = vec4( color * vColor, 1.0 );\n  }\n"})]})})};(0,j.e)({RenderPass:y.C,UnrealBloomPass:P.m});var E=function(n){var e=n.database,r=n.lineCount;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(b.z,{disableGamma:!0,children:[(0,a.jsx)("unrealBloomPass",{threshold:.1,strength:5,radius:1}),(0,a.jsx)("shaderPass",{args:[z.C]})]}),(0,a.jsx)(k,{database:e}),(0,x.Z)(Array(r)).map(function(n,e){return(0,a.jsx)(C,{},e)})]})},F=function(n){var e,r=(0,w.useRef)(null),t=(0,w.useRef)(null),o=(0,w.useRef)(0),i=(0,w.useState)(0),u=i[0];i[1];var s=(0,w.useState)(new _.Vector3(0,0,0)),c=s[0];return s[1],(0,w.useEffect)(function(){t.current&&r.current&&(r.current.enabled=!1,t.current.position.set(500,500,500),t.current.updateProjectionMatrix(),r.current.enabled=!0,r.current.update())},[]),(0,j.z)(function(n){var e=n.clock;o.current=e.getElapsedTime();var a=e.getElapsedTime()-u;if(a<5&&t.current&&r.current){r.current.enabled=!1;var i=t.current.position.lerp(c,a/5);t.current.position.set(i.x,i.y,i.z),t.current.updateProjectionMatrix(),r.current.enabled=!0,r.current.update()}}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("color",{attach:"background",args:["#000"]}),(0,a.jsxs)(w.Suspense,{fallback:null,children:[(0,a.jsx)(g.c,{ref:t,near:1e-4,makeDefault:!0}),(0,a.jsx)(M.$,{ref:r,camera:null!==(e=t.current)&&void 0!==e?e:void 0,rotateSpeed:5,minDistance:.1,maxDistance:1e3,noPan:!0}),(0,a.jsx)(E,{database:n.database,lineCount:10})]})]})};function A(){var n=(0,t.Z)(["\n          html,\n          body,\n          #__next {\n            width: 100%;\n            height: 100%;\n          }\n        "]);return A=function(){return n},n}var Z=!0,R=function(n){var e=n.database;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Global,{styles:(0,o.css)(A())}),(0,a.jsx)(i.Xz,{dpr:[1,2],children:(0,a.jsx)(F,{database:e})}),(0,a.jsx)(p,{})]})}}},function(n){n.O(0,[737,484,774,888,179],function(){return n(n.s=8312)}),_N_E=n.O()}]);