(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(921)}])},921:function(n,e,r){"use strict";r.r(e),r.d(e,{__N_SSG:function(){return p},default:function(){return x}});var t=r(7297),o=r(5893),a=r(5535),s=r(2047),i=r(4061),u=r(8302),c=r(7435),l=r(7294),f=r(8197),h=r(3955),d=r(4360),v=r(9477),m=function(n){var e=4600*(1/(.92*n+1.7)+1/(.92*n+.62)),r=0,t=0;e>=1667&&e<=4e3?r=-266123900.00000003/Math.pow(e,3)+-234358/Math.pow(e,2)+877.6956/e+.17991:e>4e3&&e<=25e3&&(r=-3025846900/Math.pow(e,3)+2107037.9/Math.pow(e,2)+222.63469999999998/e+.24039),e>=1667&&e<=2222?t=-1.1063814*Math.pow(r,3)-1.3481102*Math.pow(r,2)+2.18555832*r-.20219683:e>2222&&e<=4e3?t=-.9549476*Math.pow(r,3)-1.37418593*Math.pow(r,2)+2.09137015*r-.16748867:e>4e3&&e<=25e3&&(t=3.081758*Math.pow(r,3)-5.8733867*Math.pow(r,2)+3.75112997*r-.37001483);var o=0==t?0:1,a=0==t?0:r*o/t,s=0==t?0:(1-r-t)*o/t;return{r:.41847*a-.15866*o-.082835*s,g:-.091169*a+.25243*o+.015708*s,b:9209e-7*a-.0025498*o+.1786*s}},w=function(n){var e=(0,l.useRef)(null),r=n.database,t=r.length,a=(0,l.useMemo)(function(){for(var n=new Float32Array(3*t),e=0;e<t;e++)n[3*e]=+r[e].x,n[3*e+1]=+r[e].y,n[3*e+2]=+r[e].z;return n},[t,r]),s=(0,l.useMemo)(function(){for(var n=new Float32Array(t),e=0;e<t;e++)n[e]=1.2*Math.min(7,-10/9*+r[e].mag+7);return n},[t,r]),i=(0,l.useMemo)(function(){for(var n=new Float32Array(3*t),e=0;e<t;e++){var o=m(+r[e].ci),a=o.r,s=o.g,i=o.b;n[3*e]=5*a,n[3*e+1]=5*s,n[3*e+2]=5*i}return n},[t,r]);return(0,l.useEffect)(function(){e.current&&(e.current.geometry.setAttribute("position",new v.BufferAttribute(a,3)),e.current.geometry.setAttribute("color",new v.BufferAttribute(i,3)),e.current.geometry.setAttribute("size",new v.BufferAttribute(s,1)))},[e,a,i,s]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("points",{ref:e,children:[(0,o.jsx)("bufferGeometry",{}),(0,o.jsx)("shaderMaterial",{attach:"material",transparent:!0,uniforms:{color:{value:new v.Color(16777215)}},vertexShader:"\n  attribute float size;\n  attribute vec3 color;\n\n  varying vec3 vColor;\n\n	void main() {\n    vColor = color;\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n	  gl_PointSize = size;\n	  gl_Position = projectionMatrix * mvPosition;\n  }\n",fragmentShader:"\n  uniform vec3 color;\n\n  varying vec3 vColor;\n\n  void main() {\n    if ( length( gl_PointCoord - vec2( 0.5, 0.5 ) ) > 0.475 ) discard;\n    gl_FragColor = vec4( color * vColor, 1.0 );\n  }\n"})]})})};function g(){var n=(0,t.Z)(["\n          html,\n          body,\n          #__next {\n            width: 100%;\n            height: 100%;\n          }\n        "]);return g=function(){return n},n}(0,u.e)({RenderPass:f.C,UnrealBloomPass:h.m});var b=function(n){var e=n.database;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.z,{disableGamma:!0,children:[(0,o.jsx)("unrealBloomPass",{threshold:.1,strength:5,radius:1}),(0,o.jsx)("shaderPass",{args:[d.C]})]}),(0,o.jsx)(w,{database:e})]})},p=!0,x=function(n){var e=n.database;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.Global,{styles:(0,a.css)(g())}),(0,o.jsxs)(c.Xz,{dpr:[1,2],children:[(0,o.jsx)("color",{attach:"background",args:["#000"]}),(0,o.jsxs)(l.Suspense,{fallback:null,children:[(0,o.jsx)(i.$,{rotateSpeed:5,maxDistance:1e3,noPan:!0}),(0,o.jsx)(b,{database:e})]})]})]})}}},function(n){n.O(0,[737,810,774,888,179],function(){return n(n.s=8312)}),_N_E=n.O()}]);